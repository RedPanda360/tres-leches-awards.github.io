<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The Tres Leches Awards</title>
  <style>
    body { font-family: Arial, sans-serif; background:#111; color:#eee; padding:20px; }
    h1, h2 { color:#f5c542; }
    .category { border:1px solid #333; padding:15px; margin-bottom:20px; border-radius:8px; }
    label { display:block; margin-top:8px; }
    select { width:100%; padding:6px; margin-top:4px; }
    button { padding:10px 20px; background:#f5c542; border:none; border-radius:6px; cursor:pointer; font-weight:bold; }
    button:hover { background:#ffd966; }
    .results { margin-top:30px; }
    .winner { margin-bottom:10px; }
    .category-description { color: #eee; font-size: 14px; margin-top: 6px; margin-bottom: 12px; opacity: 0.9; font-style: italic; }
    .category-header { cursor: pointer; }
    .category-content { max-height: 0; overflow: hidden; transition: max-height 0.4s ease; }
    .category.open .category-content { max-height: 800px; }
    .category-header { position: relative; cursor: pointer; }
    .category-header::after { content: "‚ñº"; position: absolute; right: 0; top: 50%; transform: translateY(-50%); transition: transform 0.3s; font-size: 18px; }
    .category.open .category-header::after { transform: translateY(-50%) rotate(180deg); }
    .category-header:hover::after{color: #ffd966;}
    .search-select { width: 100%; padding: 6px; margin-top: 4px; }
    .button-bar { display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 25px; }
    .cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 20px;
  margin-top: 30px;
  
}

.card {
  perspective: 1000px;
  cursor: pointer;
}

.card-inner {
  position: relative;
  width: 100%;
  height: 160px;
  transition: transform 0.7s;
  transform-style: preserve-3d;
}

.card.flipped .card-inner {
  transform: rotateY(180deg);
}

.card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  border-radius: 12px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 15px;
  box-sizing: border-box;
}

.card-front {
  background: #222;
  border: 2px solid #f5c542;
  font-size: 18px;
  font-weight: bold;
}

.header {
  display: flex;
  align-items: center;
  gap: 15px;
  margin-bottom: 20px;
}

.logo {
  height: 150px;
  width: auto;
}

.card-back {
  background: #f5c542;
  color: #111;
  transform: rotateY(180deg);
  font-size: 16px;
}

  </style>
</head>
<body>

  <div class="header">
    <img src="logo.png" alt="Tres Leches Awards Logo" class="logo">
    <h1> The Tres Leches Awards</h1>
  </div>
  
<p>Welcome to The Tres Leches Awards. The only movie awards that mean anything. Please pick your <strong>Top 3</strong> in each category.</p>
<label><strong>Your Name</strong></label>
<p><input id="voterName" placeholder="Enter your name" style="width:100%;padding:8px;margin-bottom:20px;" /> 1st = 3 points, 2nd = 2 points, 3rd = 1 point.</p>

<div class="button-bar">
  <button onclick="submitVote()">Submit Vote</button>
  <button onclick="showResults()">Show Winners</button>
  <button onclick="resetVotes()">Reset Votes</button>
  <button onclick="viewEntries()">View All Votes</button>
</div>

<div id="categories"></div>



<div class="results" id="results"></div>

<script>
// ===================== DATA =====================
const movies = [
  "28 Years Later",
  "40 Acres",
  "A Working Man",
  "Accountant 2",
  "Americana",
  "Ash",
  "Avatar: Fire and Ash",
  "Ballerina",
  "Black Bag",
  "Black Phone 2",
  "Bring Her Back",
  "Bugonia",
  "Captain America Brave New World",
  "Caught Stealing",
  "Clown in a Cornfield",
  "Companion",
  "Dangerous Animals",
  "Death of a Unicorn",
  "Den of Thieves",
  "Dogman",
  "Drop",
  "Eddington",
  "Eden",
  "Elio",
  "Fantastic Four",
  "Fight or Fight",
  "Flight Risk",
  "F1",
  "Final Destination Bloodline",
  "Five Nights At Freddy's",
  "Freakier Friday",
  "Good Fortune",
  "Heart Eyes",
  "HIM",
  "Honey Don‚Äôt",
  "House on Eden",
  "How to Train Your Dragon",
  "I Know What You Did Last Summer",
  "Jurassic World Rebirth",
  "Karate Kid Legends",
  "Keeper",
  "Lilo & Stitch",
  "Magazine Dreams",
  "Materialists",
  "M3gan 2.0",
  "Mickey 17",
  "Minecraft Movie",
  "Mission Impossible Final Reckoning",
  "Ne Zha 2",
  "Nobody 2",
  "Novocaine",
  "Now You See Me Now You Don't",
  "One Battle After Another",
  "One of them Days",
  "Opus",
  "Presence",
  "Predator: Badlands",
  "Rental Family",
  "Roofman",
  "Shin Godzilla 4K",
  "Sinners",
  "Strange Harvest",
  "Superman",
  "Surfer",
  "The Armature",
  "The Home",
  "The Long Walk",
  "The Monkey",
  "The Naked Gun",
  "The Phoenician Scheme",
  "The Running Man",
  "The Smashing Machine",
  "The Toxic Avenger",
  "The Wolf Man",
  "Thunderbolts",
  "Together",
  "Tron Ares",
  "Until Dawn",
  "Wake Up Dead Man",
  "Warfare",
  "Weapons",
  "Wicked: For Good",
  "Woman in the Yard",
  "Zootopia 2",

];

const actors = [
  "Tom Cruise ‚Äî Mission: Impossible ‚Äì Final Reckoning",
  "Robert Pattinson ‚Äî Mickey 17",
  "Jack Quaid ‚Äî Novocaine",
  "Benicio del Toro ‚Äî The Phoenician Scheme",
  "Ben Affleck ‚Äî The Accountant 2",
  "Bob Odenkirk ‚Äî Nobody 2",
  "Hiroki Hasegawa ‚Äî Shin Godzilla (4K)",
  "Jude Law ‚Äî Eden",
  "Peter Dinklage ‚Äî The Toxic Avenger",
  "Paul Rudd ‚Äî Death of a Unicorn",
  "Gerard Butler ‚Äî Den of Thieves",
  "Jai Courtney ‚Äî Dangerous Animals",
  "Tyriq Withers ‚Äî HIM",
  "Joaquin Phoenix ‚Äî Eddington",
  "Liam Neeson ‚Äî The Naked Gun",
  "Christopher Abbott ‚Äî The Wolf Man",
  "Josh Hartnett ‚Äî Fight or Flight",
  "Theo James ‚Äî The Monkey",
  "Jackie Chan ‚Äî Karate Kid: Legends",
  "Jason Statham ‚Äî A Working Man",
  "Nicolas Cage ‚Äî Surfer",
  "Daniel Craig ‚Äî Wake Up Dead Man",
  "Pete Davidson ‚Äî The Home",
  "Mark Wahlberg ‚Äî Flight Risk",
  "Austin Butler ‚Äî Caught Stealing",
  "Leonardo DiCaprio ‚Äî One Battle After Another",
  "Ethan Hawke ‚Äî Black Phone 2",
  "Keanu Reeves ‚Äî Good Fortune",
  "Glen Powell ‚Äî The Running Man",
  "Jesse Eisenberg ‚Äî Now You See Me: Now You Don‚Äôt",
  "Brendan Fraser ‚Äî Rental Family",
  "Josh Hutcherson ‚Äî Five Nights at Freddy‚Äôs 2",
  "Sam Worthington ‚Äî Avatar: Fire and Ash",
  "Jared Leto ‚Äî Tron: Ares",
  "Channing Tatum ‚Äî Roofman",
  "Dwayne Johnson ‚Äî The Smashing Machine",
  "Michael B. Jordan ‚Äî Sinners",
  "Jonathan Majors ‚Äî Magazine Dreams",
  "Pedro Pascal ‚Äî The Fantastic Four: First Steps",
  "David Corenswet ‚Äî Superman",
  "Josh Brolin ‚Äî Weapons",
  "Jack Black ‚Äî The Minecraft Movie",
  "Brad Pitt ‚Äî F1",
  "Mason Thames ‚Äî How To Train Your Dragon",
  "Rami Malek ‚Äî The Amateur",
  "Cooper Hoffman ‚Äî The Long Walk"
];

const actresses = [
  "Ana de Armas ‚Äî Ballerina",
  "Sophie Thatcher ‚Äî Companion",
  "Cate Blanchett ‚Äî Black Bag",
  "Lucy Liu ‚Äî Presence",
  "Danielle Deadwyler ‚Äî 40 Acres",
  "Sydney Sweeney ‚Äî Americana",
  "Olivia Holt ‚Äî Heart Eyes",
  "Dakota Johnson ‚Äî Materialists",
  "Keke Palmer ‚Äî One of Them Days",
  "Maia Kealoha ‚Äî Lilo & Stitch",
  "Scarlett Johansson ‚Äî Jurassic World: Rebirth",
  "Ayo Edebiri ‚Äî Opus",
  "Allison Williams ‚Äî M3GAN 2.0",
  "Katie Douglas ‚Äî Clown in a Cornfield",
  "Margaret Qualley ‚Äî Honey Don‚Äôt",
  "Cynthia Erivo ‚Äî Wicked: For Good",
  "Emma Stone ‚Äî Bugonia",
  "Florence Pugh ‚Äî Thunderbolts",
  "Julia Garner ‚Äî Weapons",
  "Meghann Fahy ‚Äî Drop",
  "Kaithyn Santa Juana ‚Äî Final Destination Bloodline",
  "Ella Rubin ‚Äî Until Dawn",
  "Madelyn Cline ‚Äî I Know What You Did Last Summer",
  "Tatiana Maslany ‚Äî Keeper",
  "Jodie Comer ‚Äî 28 Years Later",
  "Eiza Gonzalez ‚Äî Ash",
  "Sally Hawkins ‚Äî Bring Her Back",
  "Danielle Deadwyler ‚Äî Woman in the Yard"
];

const actionMovies = [
  "Superman",
  "Fantastic Four",
  "Thunderbolts",
  "Mission Impossible Final Reckoning",
  "Ballerina",
  "Captain America Brave New World",
  "Novocaine",
  "Accountant 2",
  "Nobody 2",
  "The Amateur",
  "Den of Thieves",
  "Fight or Fight",
  "Jurassic World Rebirth",
  "A Working Man",
  "Predator: Badlands",
  "The Running Man",
  "Avatar: Fire and Ash",
  "Tron Ares"
];

const comedyMovies = [
  "Minecraft Movie",
  "Mickey 17",
  "How To Train Your Dragon",
  "The Phoenician Scheme",
  "Freakier Friday",
  "The Toxic Avenger",
  "The Naked Gun",
  "One of Them Days",
  "Lilo & Stitch",
  "Karate Kid Legends",
  "Honey Don‚Äôt",
  "One Battle After Another",
  "Good Fortune",
  "Now You See Me Now You Don't",
  "Rental Family",
  "Roofman",
  "Bugonia"
];

const animatedMovies = [
  "Ne Zha 2",
  "Elio",
  "Dogman",
  "Zootopia 2"
];

const horrorMovies = [
  "Weapons",
  "Sinners",
  "Presence",
  "Together",
  "Bring Her Back",
  "Shin Godzilla 4K",
  "Heart Eyes",
  "Death of a Unicorn",
  "Final Destination Bloodline",
  "Dangerous Animals",
  "28 Years Later",
  "The Wolf Man",
  "The Monkey",
  "Strange Harvest",
  "Opus",
  "Until Dawn",
  "Ash",
  "I Know What You Did Last Summer",
  "Woman in the Yard",
  "M3gan 2.0",
  "Clown in a Cornfield",
  "House on Eden",
  "The Long Walk",
  "Black Phone 2",
  "Keeper",
  "Five Nights At Freddy's",
  "HIM"
];

const categories = {
    "Best Picture": movies,
  "Worst Movie": movies,
  "Most Disappointing": movies,
  "Most Surprising": movies,
  "Best Visual Looking Movie": movies,
  "Keepsake": movies,
  "Most Rewatchable": movies,
  "Best Theatre Experience": movies,
  "Best Lead Actor": actors,
  "Best Lead Actress": actresses,
  "Worst Lead Actor": [...actors, ...actresses],
  "Best Action Movie": actionMovies,
  "Best Comedy Movie": comedyMovies,
  "Best Animated Movie": animatedMovies,
  "Best Horror Movie": horrorMovies
};

const categoryDescriptions = {
  "Best Picture": "This is the movie that was overall best film of the year.",
  "Worst Movie": "Which movie was just straight up trash and unjoyable.",
  "Most Disappointing": "High expectations that didn‚Äôt deliver.",
  "Most Surprising": "The movie that exceeded expectations the most.",
  "Best Visual Looking Movie": "Outstanding visuals, cinematography, or production design.",
  "Keepsake": "This isn't the best movie you saw but one that for whatever reason you really loved.",
  "Most Rewatchable": "The movie you‚Äôd watch again and again.",
  "Best Theatre Experience": "Best big-screen, crowd, or immersive experience.",
  "Best Lead Actor": "Best performance by a leading male actor.",
  "Best Lead Actress": "Best performance by a leading female actor.",
  "Worst Lead Actor": "The weakest leading performance.",
  "Best Action Movie": "Top-tier action, stunts, and thrills.",
  "Best Comedy Movie": "The funniest movie of the year.",
  "Best Animated Movie": "Best animated feature.",
  "Best Horror Movie": "Most effective scares, atmosphere, and story."
};

let scores = {};
let entries = [];

// ===================== BUILD FORM =====================
const container = document.getElementById("categories");

for (const [category, options] of Object.entries(categories)) {
  const div = document.createElement("div");
  div.className = "category";
  div.innerHTML = `
  <div class="category-header">
    <h2>${category}</h2>
    <p class="category-description">
      ${categoryDescriptions[category] || ""}
    </p>
  </div>
  <div class="category-content"></div>
`;

  ["1st", "2nd", "3rd"].forEach((labelText, i) => {
    const label = document.createElement("label");
    label.textContent = labelText;

    const select = document.createElement("input");
    select.setAttribute("list", `list-${category}-${i}`);
    select.className = "search-select";

    const datalist = document.createElement("datalist");
    datalist.id = `list-${category}-${i}`;

    options.forEach(opt => {
      const option = document.createElement("option");
      option.value = opt;
      datalist.appendChild(option);
    });

    label.appendChild(select);
    label.appendChild(datalist);

    select.dataset.category = category;
    select.dataset.points = 3 - i;

    div.querySelector(".category-content").appendChild(label);
  });

  const header = div.querySelector(".category-header");
  header.onclick = () => {
    div.classList.toggle("open");
  };

  container.appendChild(div);
}

// ===================== SUBMIT VOTE =====================
function submitVote() {
  const voterName = document.getElementById("voterName").value.trim();
  if (!voterName) {
    alert("Please enter your name.");
    return;
  }

  const used = {};
  const ballot = { name: voterName, votes: {} };

  for (const sel of document.querySelectorAll("input[list]")) {
    if (!sel.value) continue;

    const cat = sel.dataset.category;
    const choice = sel.value;
    const pts = Number(sel.dataset.points);

    used[cat] = used[cat] || new Set();
    if (used[cat].has(choice)) {
      alert(`Duplicate selection in ${cat}`);
      return;
    }
    used[cat].add(choice);

    ballot.votes[cat] = ballot.votes[cat] || [];
    ballot.votes[cat].push({ choice, points: pts });

    const key = `${cat}|${choice}`;
    scores[key] = (scores[key] || 0) + pts;
  }

  entries.push(ballot);
  alert("Vote submitted!");

  document.getElementById("voterName").value = "";
  document.querySelectorAll("input[list]").forEach(s => s.value = "");
}

// ===================== RESULTS =====================
function showResults() {
  const resultsDiv = document.getElementById("results");
  resultsDiv.innerHTML = "<h2>üèÜ Winners</h2><div class='cards'></div>";

  const cardsContainer = resultsDiv.querySelector(".cards");

  for (const category of Object.keys(categories)) {
    let max = 0;
    let winners = [];

    for (const key in scores) {
      const [cat, name] = key.split("|");
      if (cat !== category) continue;

      const pts = scores[key];
      if (pts > max) {
        max = pts;
        winners = [name];
      } else if (pts === max && pts > 0) {
        winners.push(name);
      }
    }

    const winnerText = winners.length
  ? `
      <div class="winner-names">${winners.join("<br>")}</div>
    `
  : "No votes yet";



    const card = document.createElement("div");
    card.className = "card";
    card.onclick = () => card.classList.toggle("flipped");

    card.innerHTML = `
      <div class="card-inner">
        <div class="card-face card-front">
          ${category}
        </div>
        <div class="card-face card-back">
          ${winnerText}
        </div>
      </div>
    `;

    cardsContainer.appendChild(card);
  }
}


// ===================== VIEW ENTRIES =====================
function viewEntries() {
  if (!entries.length) {
    alert("No entries yet.");
    return;
  }

  let html = `
    <html>
    <head>
      <title>All Entries</title>
      <style>
        body { font-family: Arial; background:#111; color:#eee; padding:20px; }
        h2, h3 { color:#f5c542; }
        ul { margin-bottom:20px; }
      </style>
    </head>
    <body>
      <h2>üìù All Entries</h2>
  `;

  entries.forEach((entry, index) => {
    html += `<h3>${index + 1}. ${entry.name}</h3><ul>`;

    for (const cat in entry.votes) {
      const picks = entry.votes[cat]
        .sort((a, b) => b.points - a.points)
        .map(v => `${v.choice} (${v.points} pts)`)
        .join(", ");

      html += `<li><strong>${cat}:</strong> ${picks}</li>`;
    }

    html += `</ul>`;
  });

  html += `</body></html>`;

  const win = window.open("", "_blank");
  win.document.open();
  win.document.write(html);
  win.document.close();
}


// ===================== RESET =====================
function resetVotes() {
  if (confirm("Reset all votes?")) {
    scores = {};
    entries = [];
    document.getElementById("results").innerHTML = "";
  }
}


</script>

</body>
</html>